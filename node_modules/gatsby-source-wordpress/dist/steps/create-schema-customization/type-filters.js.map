{"version":3,"file":"type-filters.js","names":["typeDefinitionFilters","typeName","typeDef","fields","date","dateField","type","extensions","dateformat","dateGmt","modified","modifiedGmt","objectType","remoteFile","deprecationReason","resolve","Error","localFile","link","from"],"sources":["../../../src/steps/create-schema-customization/type-filters.js"],"sourcesContent":["import { createLocalFileNode } from \"~/steps/source-nodes/create-nodes/create-local-file-node\"\n\n// @todo move this to plugin options\nexport const typeDefinitionFilters = [\n  {\n    typeName: `__all`,\n    typeDef: typeDef => {\n      /**\n       * @todo once WPGraphQL has a DateTime Scalar, use that to find date fields\n       * instead of the below fieldnames\n       */\n\n      if (typeDef?.fields?.date) {\n        const dateField = {\n          ...typeDef.fields.date,\n          type: `Date`,\n          extensions: {\n            dateformat: {},\n          },\n        }\n\n        typeDef.fields.date = dateField\n      }\n\n      if (typeDef?.fields?.dateGmt) {\n        const dateField = {\n          ...typeDef.fields.dateGmt,\n          type: `Date`,\n          extensions: {\n            dateformat: {},\n          },\n        }\n\n        typeDef.fields.dateGmt = dateField\n      }\n\n      if (typeDef?.fields?.modified) {\n        const dateField = {\n          ...typeDef.fields.modified,\n          type: `Date`,\n          extensions: {\n            dateformat: {},\n          },\n        }\n\n        typeDef.fields.modified = dateField\n      }\n\n      if (typeDef?.fields?.modifiedGmt) {\n        const dateField = {\n          ...typeDef.fields.modifiedGmt,\n          type: `Date`,\n          extensions: {\n            dateformat: {},\n          },\n        }\n\n        typeDef.fields.modifiedGmt = dateField\n      }\n\n      return typeDef\n    },\n  },\n  {\n    typeName: `MediaItem`,\n    typeDef: objectType => {\n      // @todo: this field is deprecated as of 0.1.8, remove this when we get to beta\n      objectType.fields.remoteFile = {\n        type: `File`,\n        deprecationReason: `MediaItem.remoteFile was renamed to localFile`,\n        resolve: () => {\n          throw new Error(\n            `MediaItem.remoteFile is deprecated and has been renamed to MediaItem.localFile. Please update your code.`\n          )\n        },\n      }\n\n      objectType.fields.localFile = {\n        type: `File`,\n        extensions: {\n          link: { from: `localFile.id` },\n        },\n      }\n\n      return objectType\n    },\n  },\n]\n"],"mappings":";;;;;AAAA;;AAEA;AACO,MAAMA,qBAAqB,GAAG,CACnC;EACEC,QAAQ,EAAG,OADb;EAEEC,OAAO,EAAEA,OAAO,IAAI;IAAA;;IAClB;AACN;AACA;AACA;IAEM,IAAIA,OAAJ,aAAIA,OAAJ,kCAAIA,OAAO,CAAEC,MAAb,4CAAI,gBAAiBC,IAArB,EAA2B;MACzB,MAAMC,SAAS,GAAG,EAChB,GAAGH,OAAO,CAACC,MAAR,CAAeC,IADF;QAEhBE,IAAI,EAAG,MAFS;QAGhBC,UAAU,EAAE;UACVC,UAAU,EAAE;QADF;MAHI,CAAlB;MAQAN,OAAO,CAACC,MAAR,CAAeC,IAAf,GAAsBC,SAAtB;IACD;;IAED,IAAIH,OAAJ,aAAIA,OAAJ,mCAAIA,OAAO,CAAEC,MAAb,6CAAI,iBAAiBM,OAArB,EAA8B;MAC5B,MAAMJ,SAAS,GAAG,EAChB,GAAGH,OAAO,CAACC,MAAR,CAAeM,OADF;QAEhBH,IAAI,EAAG,MAFS;QAGhBC,UAAU,EAAE;UACVC,UAAU,EAAE;QADF;MAHI,CAAlB;MAQAN,OAAO,CAACC,MAAR,CAAeM,OAAf,GAAyBJ,SAAzB;IACD;;IAED,IAAIH,OAAJ,aAAIA,OAAJ,mCAAIA,OAAO,CAAEC,MAAb,6CAAI,iBAAiBO,QAArB,EAA+B;MAC7B,MAAML,SAAS,GAAG,EAChB,GAAGH,OAAO,CAACC,MAAR,CAAeO,QADF;QAEhBJ,IAAI,EAAG,MAFS;QAGhBC,UAAU,EAAE;UACVC,UAAU,EAAE;QADF;MAHI,CAAlB;MAQAN,OAAO,CAACC,MAAR,CAAeO,QAAf,GAA0BL,SAA1B;IACD;;IAED,IAAIH,OAAJ,aAAIA,OAAJ,mCAAIA,OAAO,CAAEC,MAAb,6CAAI,iBAAiBQ,WAArB,EAAkC;MAChC,MAAMN,SAAS,GAAG,EAChB,GAAGH,OAAO,CAACC,MAAR,CAAeQ,WADF;QAEhBL,IAAI,EAAG,MAFS;QAGhBC,UAAU,EAAE;UACVC,UAAU,EAAE;QADF;MAHI,CAAlB;MAQAN,OAAO,CAACC,MAAR,CAAeQ,WAAf,GAA6BN,SAA7B;IACD;;IAED,OAAOH,OAAP;EACD;AAzDH,CADmC,EA4DnC;EACED,QAAQ,EAAG,WADb;EAEEC,OAAO,EAAEU,UAAU,IAAI;IACrB;IACAA,UAAU,CAACT,MAAX,CAAkBU,UAAlB,GAA+B;MAC7BP,IAAI,EAAG,MADsB;MAE7BQ,iBAAiB,EAAG,+CAFS;MAG7BC,OAAO,EAAE,MAAM;QACb,MAAM,IAAIC,KAAJ,CACH,0GADG,CAAN;MAGD;IAP4B,CAA/B;IAUAJ,UAAU,CAACT,MAAX,CAAkBc,SAAlB,GAA8B;MAC5BX,IAAI,EAAG,MADqB;MAE5BC,UAAU,EAAE;QACVW,IAAI,EAAE;UAAEC,IAAI,EAAG;QAAT;MADI;IAFgB,CAA9B;IAOA,OAAOP,UAAP;EACD;AAtBH,CA5DmC,CAA9B"}